<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo list</title>

</head>
<body>

    <h1>To-do list</h1>
    <h2>In here, you can write and storage your tasks for your todo list</h2>

    <textarea name="task" id="task" cols="80" rows="5" placeholder="Write your task here"></textarea>
    <button type="button" onclick="saveTask()">Save task</button>

    <br />

    <ol id="tasklist">
    </ol>

    <script>
        let taskArray = [];

        function saveTask() {

            let taskListElement = document.getElementById("tasklist");
            let taskTextAreaValue = document.getElementById("task").value;

            if(taskTextAreaValue != ""){

                if(taskTextAreaValue.length <= 3){

                    alert("Value must be greater than 3 characters!");

                }
                else{

                    if(taskArray.length >= 8){

                        alert("Maximum 8 items are allowed to add in the list.");

                    }
                    else{

                        taskArray.push(taskTextAreaValue);
                        console.log(`Text area is filled with: ${taskTextAreaValue}`);
                        taskListElement.innerHTML = "";

                        for(let i = 0; i < taskArray.length; i++){

                            taskListElement.innerHTML += `<li id="${i}">${taskArray[i]}<button onclick="deleteTask(${i})">Delete</button></li>`;

                        }

                    }

                }

            }
            else{

                console.log("Input text please");

            }

        }

        function deleteTask(id){

            //console.log(id);
            let decision = confirm("Do you want to delete the task?");
            let taskListElement = document.getElementById("tasklist");
            
            if(decision){

                taskListElement.innerHTML = "";

                taskArray.splice(id, 1);

                for(let i = 0; i < taskArray.length; i++){

                    taskListElement.innerHTML += `<li id="${i}">${taskArray[i]}<button onclick="deleteTask(${i})">Delete</button></li>`;

                }

            }

        }

    </script>

</body>
</html>